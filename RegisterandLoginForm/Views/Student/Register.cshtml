@model RegisterandLoginForm.Models.Student

@{
    ViewBag.Title = "Student Registration";
}

<div class="container my-5">
    <div class="card shadow-lg rounded-4 p-4 border-0 glass-card">
        <h2 class="text-center text-primary fw-bold mb-4">🎓 Student Registration</h2>

        @using (Html.BeginForm("Register", "Student", FormMethod.Post, new { @class = "needs-validation", novalidate = "novalidate" }))
        {
            <div class="row g-4">
                <!-- First Name -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-user me-2 text-primary"></i>First Name</label>
                    @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
                </div>

                <!-- Last Name -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-user me-2 text-primary"></i>Last Name</label>
                    @Html.TextBoxFor(m => m.LastName, new { @class = "form-control" })
                </div>

                <!-- Age -->
                <div class="col-md-4">
                    <label class="form-label fw-semibold"><i class="fa fa-hourglass-half me-2 text-primary"></i>Age</label>
                    @Html.TextBoxFor(m => m.Age, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(m => m.Age, "", new { @class = "text-danger" })
                </div>

                <!-- DOB -->
                <div class="col-md-4">
                    <label class="form-label fw-semibold"><i class="fa fa-calendar me-2 text-primary"></i>Date of Birth</label>
                    @Html.TextBoxFor(m => m.DOB, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date", required = "required" })
                    @Html.ValidationMessageFor(m => m.DOB, "", new { @class = "text-danger" })
                </div>

                <!-- Gender -->
                <div class="col-md-4">
                    <label class="form-label fw-semibold"><i class="fa fa-venus-mars me-2 text-primary"></i>Gender</label>
                    @Html.DropDownListFor(m => m.Gender, new SelectList(new[] { "Male", "Female", "Other" }), "-- Select --", new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(m => m.Gender, "", new { @class = "text-danger" })
                </div>

                <!-- Email -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-envelope me-2 text-primary"></i>Email</label>
                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control", required = "required", type = "email" })
                    @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                </div>

                <!-- Phone -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-phone me-2 text-primary"></i>Phone Number</label>
                    @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(m => m.PhoneNumber, "", new { @class = "text-danger" })
                </div>

                <!-- Username -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-user-circle me-2 text-primary"></i>Username</label>
                    @Html.TextBoxFor(m => m.Username, new { @class = "form-control", required = "required" })
                </div>

                <!-- Password -->
                <div class="col-md-6">
                    <label class="form-label fw-semibold"><i class="fa fa-lock me-2 text-primary"></i>Password</label>
                    @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "required" })
                </div>
            </div>

            <!-- Qualifications -->
            <hr class="my-4" />
            <h4 class="text-secondary">Qualification Details</h4>

            <table class="table table-bordered mt-3" id="qualificationTable">
                <thead class="thead-light">
                    <tr>
                        <th>Course</th>
                        <th>University</th>
                        <th>Year</th>
                        <th>Percentage</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <button type="button" id="addQualification" class="btn btn-outline-secondary mb-3">
                <i class="fa fa-plus me-1"></i> Add Qualification
            </button>

            <div class="text-end">
                <input type="submit" value="Register" class="btn btn-primary px-4" />
            </div>
        }
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(function () {
            $("#addQualification").click(function () {
                $("#qualificationTable tbody").append(`
                            <tr>
                                <td><input name="qualifications[0].CourseName" required /></td>
                                <td><input name="qualifications[0].University" required /></td>
                                <td><input name="qualifications[0].YearOfPassing" required /></td>
                                <td><input name="qualifications[0].Percentage" required /></td>
                                <td><button type="button" class="remove">Remove</button></td>
                            </tr>`);
            });
            $(document).on("click", ".remove", function () {
                $(this).closest("tr").remove();
            });
        });
    </script>
}
